<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title></title>
</head>

<body>
<div *ngIf="isSuccessPopupVisible" class="success-popup">
  <div class="popup-content">
    <span class="close-btn" (click)="isSuccessPopupVisible = false">&times;</span>

  </div>
</div>
<div class="home-container">
  <div class="header">
    <div class="logo-gift-container animate__animated animate__bounceInLeft">
      <img src="../../../assets/pics/pacco.png" alt="Pacchi regalo" class="gift-img"/>
      <img src="../../../assets/pics/whiteLogo.png" alt="Logo" class="logo-img"/>
      <img src="../../../assets/pics/pacco2.png" alt="Pacchi regalo" class="gift-img"/>
    </div>
    <div>
      <div class="profile-settings-container">
        <div class="icon-settings" (click)="openSettingsModal()">
          <img src="../../../assets/pics/impostazioni.png" alt="Impostazioni" class="settings-img"/>
        </div>
        <div class="icon-profile" (click)="openProfileModal()">
          <img src="../../../assets/pics/profile.png" alt="Profilo" class="profile-img"/>
        </div>
      </div>
      <div class="modal-overlay" *ngIf="isSettingsModalOpen">
        <div class="modal-window">
          <span class="close-btn" (click)="closeSettingsModal()">&times;</span>
          <h3>Impostazioni</h3>
          <ul>
            <li><a href="">Privacy e Sicurezza</a></li>
            <li><a href="">Informazioni</a></li>
            <li><a href="">Accessibilit√†</a></li>
            <li><a href="">Lingua</a></li>
          </ul>
        </div>
      </div>
      <div class="modal-overlay" *ngIf="isProfileModalOpen">
        <div class="modal-window">
          <span class="close-btn" (click)="closeProfileModal()">&times;</span>
          <h3>Informazioni Profilo</h3>
          <p><strong>Username:</strong> {{ accountInfo?.data?.name }}</p>
          <p><strong>Email:</strong> {{ accountInfo?.data?.email }}</p>
          <button (click)="logout()" class="logout-btn">Logout</button>
        </div>
      </div>
    </div>
  </div>

  <div class="main-content">
    <div class="card card-my-community">
      <h3>{{ communityInfo?.communityName }}</h3>
      <ul class="community-info">
        <li>Codice d'accesso</li>
        <li>{{communityInfo.accessCode}}</li>
        <li>Descrizione</li>
        <li>{{ communityInfo?.communityNote }}</li>
        <li>Budget</li>
        <li>{{ communityInfo?.budget }}</li>
        <li>Deadline</li>
        <li>{{ communityInfo?.deadline }}</li>
      </ul>
    </div>

    <div class="card card-extracted-name">
      <ul>
        <li>Il mio nome estratto</li>
        <li>
          <button (click)="viewDrawnName()">Nome estratto</button>
        </li>
      </ul>
    </div>


    <div class="card card-my-wishlist">
      <ul>
        <li>La mia lista</li>
        <li>
          <button (click)="loadMyWishList()"> La mia lista</button>
        </li>
        <li> {{ communityInfo.myWishList }}</li>
      </ul>
    </div>

<!--    <div class="card card-participants">-->
<!--      <ul>-->
<!--        <li>Partecipanti</li>-->
<!--        <li>-->
<!--          <button (click)="loadParticipants()">Partecipanti</button>-->
<!--        </li>-->
<!--      </ul>-->
<!--    </div>-->
  </div>

  <div class="card card-close-community" *ngIf="accountInfo.AccountCommunityRole.Role == Role.ADMIN">
    <button (click)="closeCommunity()">Chiudi</button>
    <p *ngIf="errorMessage" class="alert alert-danger">{{ errorMessage }}</p>
    <p *ngIf="successMessage" class="alert alert-success">{{ successMessage }}</p>
  </div>
</div>
